# Review
제이쿼리

-----------------------------------------------------------------------------------------------

# 오늘의 학습목표
SQL

웹 포트폴리오 화면구현
- 평가일시 : 5/1(월)
- 포트폴리오 페이지 작성
- 6~7교시 : 학습내용 실습 + 


이론
```
Entity : 현실세계에 존재하는 실체를 의미한다.
```

## 데이터 베이스 관리 시스템(DBMS)
```
DBMS 사용 이유

데이터 및 표현 및 저장방식으로부터 독립화 가능(파일시스템은 컴퓨터시스템에 종속적)
- 기존 파일시스템 : 위치, 구조를 해당 프로그램만 알 수 있어서 공유 불가능하다.
- 구조의 변경이 프로그램의 변경으로 이어질 수 있다.

>> DBMS는  논리적 데이터 독립성 : 데이터의 구조가 변경되더라도 프로그램의 구조가 변경되지 않는다.
           물리적 데이터 독립성 : 보조기억장치와 같이 파일과 관련된 시스템 구조가 변경되더라도
           프로그램은 그대로 유지된다.
           
. 인덱스를 활용한 빠른 데이터 접근가능
  -

. 데이터에 대한 무결성 제약조건의 준수가능
  - 데이터의 무결성 훼손 : 하나의 사실을 표시하는 두 개 이상의 중복된 데이터가 서로 일치하지 않는 경우 발생
                          데이터가 일정한 형식을 만족하지 않는 경우 발생
                          
. 여러 사용자들의 동시 접근 가능
  - 동시에 접근하여 발생하는 문제를 통제하여 예방해야 한다. 프로그램으로 접근제어는 불가능하다.

. 장애복구 및 보안 기능의 지원
```

### 데이터 모델이란?
```
현실 세계에 존재하는 정보와 현상을 선과 도형 등을 이용 개체, 속성, 관계, 제약조건등을
추상화 하여 전체 구조와 역할을 한눈에 알아볼 수 있도록 쉽게 표현해 놓은 것

           즉, >> 현실 세계의 추상화
           (목적)       1. 프로그래머, 데이터베이스 설계자, 의뢰인 등과의 의사소통 수단
                        2. 프로젝트 수정 및 확장을 위한 대비책
                        
데이터를 기술하기 위한 데이터 모델의 종류
           . 네트워크 모델(network model)
           . 계층적 모델(hierachical model)
           . 관계형 모델(relation model) -> 데이터표현방식 단순
           . 객체 모델(object model)
           . 객체 관계 모델(object relational model)


```

### DBMS의 특징?
```
프로그램과 데이터의 독립성 및 추상화

자기 기술성
    - 데이터 자체 뿐만 아니라 데이터에 대한 정의나 의미까지 관리(메타데이터 포함)
           예) 2023년 4월 26일 23도    값
           
다중 뷰
    - 필요한 부분만 추출해서 제공할 수 있는 뷰(view) 지원
    
다수 사용자 요청처리
    - 트랜잭션, 동시성 제어 기법 기능 내장 되어 있다.
```

## 모델링(Modeling)
```
1. 모델링란?
- 효율적인 데이터베이스를 사용하기 위한
 첫단계인 사용자 요구사항 분석 - 마지막 단계인 물리적 데이터베이스
 모델링 단계에 이르기 까지 데이터 베이스를 만들어 가는 과정을
 논리적/체계적으로 정리하여 최적의 데이터 베이스 시스템이 될 수 잇도록
 하는 과정을 일커든다.
 
 2. 모델링 단계
 - 개념적 모델링
 - 논리적 모델링
 - 물리적 모델링 ------>> Data Model 도출 (과정 거쳐서)
 
```

### 데이터 모델링
```
데이터 개체를 정의 -> 개체들 사이의 의미를 정의하는 작업과정

. 숲 - 나무1             vs.         정보 내용 - 데이터 값1
       나무2                                    데이터 값2
       나무3                                    데이터 값3
            <이해하기 쉽게 추상화 방법 - 현실 세계의 추상화>
          
. 작성 방법
           . 현실세계를 모두 반영
           . 오류나 왜곡이 존재하지 않도록
           . 내용을 쉽게 볼 수 있도록
           -> 도형, 선을 이용하여 개체, 속성, 관계, 제약조건 등을
              한눈에 알아 볼 수 있도록 구성한다.
              
결과로 도출된 데이터 모델의 목적
           1. 프로그래머, 데이터베이스 설계자, 의뢰인 등과 의사소통
           2. 프로젝트의 수정 및 확장을 위한 대비책으로 활
              
```


### 개념적 DB 모델링 - 추상화 : ER 다이어그램 작성
```
개체와 속성

속성 종류
단일 속성 / 복합 속성
단일 속성 : 더이상 나눌수 없는 속성
복합 속성 : 여러 속성으로 다시 나눌 수 있는 속성

단일값 속성/ 다중값 속성
단일값 속성 : 한개의 값만 가지는 속성
다중값 속성 : 두개 이상의 값으로 표현되는 속성

유도속성 / 저장속성
유도 속성 : 다른 속성의 속성값으로 유도되어 결정되는 속성 (ex.나이)
저장 속성 : 유도속성을 위해 사용되는 속성                (ex.생년월일)

특수한 속성값 null
개체가 속성에 값을 갖지 않을 떄 사용되는 임의의 값이다.
- 해당사항 없음(inapplicable) : 특정 속성에 대해 해당되지 않을 때.
- 알려지지 않음(unknown)      : 모르는 값(실제 존재하는지의 여부를 모를 때)
```

### 관계(Relationship)
```
1) 개념

- 개체집합과 개체집합 사이의 대응성. 즉, 사상(Mapping)을 말한다.
- 두개 이상의 개체집합을 연결한 집단화로 구성된다.

사상 원소수(mapping cardinality)
: 다양한 관계를 분류하는 기준 사상원소수 (사상수)
: 현실세계에는 여러가지 유형의 관계가 존재한다. ( 사람-사람, 사람-사물, 사물-사물 )

1:1 / 1:N / N:M 
```

## 논리적 DB 모델링 (논리적 스키마 작성)
```
1) 사상규칙 과정이다.
개념적 모델링에 의한 ER 다이어그램을 관계형 모델을 바탕으로 한 스키마로 변환하는 과정을 정의한것

<ER 다이어그램>            <논리적 스키마>
개체(Entity)                 릴레이션(relation)
속성(Attribute)              컬럼(column) - 필드
식별자(identifier)           기본키(primary key)
관계                         왜래키(foreign key)

2) 정규화(normalization) 과정을 거친다.
릴레이션에 존재하는 이상현상(anomaly)를
제거해  DBMS가 효율적으로 데이터를 처리하도록 관계스키마를 형성하는 

```

### 관계 테이블
```
1) 기본키와 외래키
    - 두개의 테이블이 관계를 이루는 경우 반드시 참조 무결성 제약조건이 만족되어야 한다.
    
    - 참조 무결성 제약조건이란? 두 테이블 사이의 일관성을 유지하는데 사용되는 제약조건
    
    - 한테이블에 있는 튜플이 관계를 맺고 있는 다른 테이블의 튜플을 참조하기 위해서는
      참조되는 튜플이 그 테이블 내에 반드시 존재해야 하는 제약조건을 말한다.
      
    - 기본키(PK)와 외래키(FK)의 참조로 표현된다.
    
    기본키 : 한 테이블에서 튜플 간 중복되지 않은 값을 저장하고 있는 속성
    외래키 : 튜플간 관계를 표현하기 위해 한 테이블의 기본키를 다른테이블에서 참조하고 있는 속성을 의미함
```

### 사상(Mapping) 규칙
```
사상규칙에 의해 ER다이어 그램의 모든 개체 및 관계가 관계데이터 모델에 따라 릴레이션, 즉 테이블(table)의 집합으로 표현됨

강한개체
혼자서도 존재할 수 있다
사번으로 구분 가능

약한개체
상위 개체 타입에 종속된 개체 타입
혼자서는 존재할 수 없는 게체

<<<변환시키는 단계별 방법>>>

step1. 개체타입 정리
    - 개체 타입은 릴레이션(테이블의 집합)으로 사상된다
    - 개체 타입의 속성중 유일한 값과 다른 튜플과 중복이 없는 속성 하나를 기본 키로 지정한다.
    
step2. 약한 개체타입 정리
    - 약한 개체도 하나의 릴레이션(테이블)로 사상
    - 강한 개체 타입의 키 속성을 포함시킨다.
    - 약한개체의 기본키는 강한객체의 기본키를 가져다가
      복합키(기본키+외래키)로 사상한다.
    !!! 약한 개체는 식별관계(실선)로 관계를 정의한다.
    
step3. 1:1 관계
    - 두 릴레이션(개체) 중 한쪽의 릴레이션 기본키를 (어느쪽이든 상관없다)
      다른 릴레이션의 외래키 속성으로 사상한다.

step4. 1:N 관계
    - 1쪽의 기본키를 >> N쪽에 외래키 속성으로 사상한다.
    !!! 주로 강한개체로 관계가 정의되고, 점선으로 매핑된다.

step5. M:N 관계
    - 새로운 릴레이션을 하나 생성해서,
    - 새 릴레이션에다 두 릴레이션 각각의 기본키를 각각 참조하도록 외래키를 속성으로 사상한다
    
step6. 다중 상속값
    - 다중값 속성은 키를 포함하는 별도의 릴레이션으로 사상된다.
    

관계형 데이터베이스 모델에서 논리적 데이터베이스 스키마를 효과적으로 설계하는데 이용하는 기법이다.

설계자의 목표는 정확한 위치에서 정확한 데이터를 넣는 것이 목적이다.

즉, 논리적인 튜플 안에 데이터요소를 배치하고 효율적인 방법으로 유지관리하는 것이 목적이다.
(데이터 불일치 제거), (데이터 중복 최소화)

고려사항
한 릴레이션 내의 속성들 간의 관계 표현
원하지 않는 데이터의 종속과 중복제거
새로운 속성이 데이터 베이스에 추가될 때, 기존 속성과의 관계 수정을 최소화
최종적으로 데이터 저장을 위한 기억공간의 낭비를 줄이고, 데이터 베이스 내의 정보의 품질을 높인다.

함수적 종속성
: 릴레이션에서 속성 간의 관계를 연관관계로 표현한 것.
: 일종의 제약조건을 의미한다.

제 1 정규화(1NF)
. 릴레이션의 각 속성값을 원자값(automic value)로 만드는 것
    - 원자 값을 갖는다는 말?
        : 속성(열)과 튜플(행)이 만나는 교차점의 데이터는 더이상 나눌수 없음을 말한다.
        
제 2 정규화(2NF)
. 기본키에 속하지 않는 속성 모두가 기본키에 완전한 함수 종속적이어야 한다.

제 3 정규화(3NF)
. 2NF이면서 기본키에 속하지 않는 모든 속성이 기본키에 이행적 종속적이지 않은 릴레이션을 의미한다.
        
```

#### mysql워크벤치에서 물리적 모델링 설계하기
관계 정의하기
```
- 관계를 정의하는 이유는 개체 자체로만 표현할 수 있는 정보가 한정적이기 때문이다.
- 관계
1) 식별관계와 비식별 관계
 . 관계는 부모개체의 기본키가 자식 개체의 기본키로 정의되느냐? <식별관계>
   일반속성으로 정의되느냐? <비식별관계>
  
2) 사상원소수에 따른 관계 (5가지)
 . 일대일 (1:1) 비식별 관계 ( 주민등록번호 - 사람 )
 . 일대다 (1:N) 비식별 관계 ( 부서 - 직원 )
 
 . 다대일(N:1), 여러개의 엔티티(개체)가 한 개의 엔티티(개체)와 관계를 가지느 경우 ( 여러명 직원 - 하나의 상사)
 . 다대다(N:M) , 한 개체가 여러 개체와 관계를 가지고, 다른개체도 그와 같은경우
                중간에 관계를 나타내는 연결테이블이 필요함 ( 학생 - 수업 )
                
 . 자기참조관계, 하나의 엔티티(개체)가 자기 자신과 관계를 가지는 경우 ( 조직도에서 한 직원이 자신의 상사와 관계 가지는것 )




식별관계
부모테이블의 기본키(PK)가 자식 테이블의 기본키로 전이되는 관계로 '실선'으로 표시된다. (약한관계-부양가족)
자식테이블로 전이되는 부모테이블의 기본키이며, 외래키 이기도 하다.
자식테이블의 각 인스턴스는 부모에 종속적이고 부모 테이블 없이는 존재할 수 없다.

비식별관계
부모테이블의 기본키(PK)가 자식 테이블의 일반 속성으로 전이되는 관계로 점선으로 표시한다.

- 식별관계는 부모테이블의 기본키가 자식 테이블의


```



